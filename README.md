# verbose-disco#

javascript:ftb();function currentBand(){1!=suspend&&($("#dhcp_mask%22).show(),$(%22#dhcp_dns%22).show(),$.ajax({dataType:%22text%22,type:%22GET%22,async:!0,url:%22/api/device/signal%22,error:err,success:function(n){for(signal=n,vars=[%22nrrsrq%22,%22nrrsrp%22,%22nrsinr%22,%22rssi%22,%22rsrp%22,%22rsrq%22,%22sinr%22,%22dlbandwidth%22,%22ulbandwidth%22,%22band%22,%22cell_id%22,%22plmn%22],i=0;i%3Cvars.length;i++)window[vars[i]]=extractXML(vars[i],n),$(%22#%22+vars[i]).html(window[vars[i]]);nrdefined=%22undefined%22!=typeof%20nrrsrp,$(%22.e5%22).toggle(nrdefined),nrdefined&&(setgraph(%22nrrsrp%22,nrrsrp,-130,-70),setgraph(%22nrrsrq%22,nrrsrq,-16,-3)),setgraph(%22rsrp%22,rsrp,-130,-70),setgraph(%22rsrq%22,rsrq,-16,-3),hex=Number(cell_id).toString(16),hex2=hex.substring(0,hex.length-2),enbid=parseInt(hex2,16).toString(),$(%22#enbid%22).html(enbid),%2222201%22==plmn&&(plmn=%222221%22),%2222299%22==plmn&&(plmn=%2222288%22),%2222250%22==plmn&&6==enbid.length&&(plmn=%2222288%22),link_NR=%22https://NRitaly.it/internal/map.php#bts=%22+plmn+%22.%22+enbid,$(%22#NRitaly%22).attr(%22href%22,link_NR)}}),getNetmode(),getStatus(),getAntenna())}function%20getAntenna(){$.ajax({dataType:%22text%22,type:%22GET%22,async:!0,url:%22/api/device/antenna_type%22,error:err,success:function(n){antenna1type=extractXML(%22antenna1type%22,n),antenna2type=extractXML(%22antenna2type%22,n),%221%22==antenna1type?$(%22#a1%22).html(%22EXT%22):$(%22#a1%22).html(%22INT%22),%221%22==antenna2type?$(%22#a2%22).html(%22EXT%22):$(%22#a2%22).html(%22INT%22)}})}function%20getNetmode(){$.ajax({type:%22GET%22,dataType:%22text%22,async:!0,url:%22/api/net/net-mode%22,error:err,success:function(n){netmode=n,NRband=extractXML(%22NRBand%22,n),$(%22#allowed%22).html(_5GType(NRband))}})}function%20getStatus(){$.ajax({type:%22GET%22,dataType:%22text%22,async:!0,url:%22/api/monitoring/status%22,error:err,success:function(n){status=n,is4gp=1011==extractXML(%22CurrentNetworkTypeEx%22,n)?1:0,is4gp?$(%22#mode%22).html(%225G+%22).css(%22color%22,%22red%22):$(%22#mode%22).html(%22-%22).css(%22color%22,%22#aaa%22)}})}function%20err(n,e,r){alert(%22Communication%20Error%22),console.log(n),console.log(e),console.log(r)}function%20extractXML(n,e){try{return%20e.split(%22%3C/%22+n+%22%3E%22)[0].split(%22%3C%22+n+%22%3E%22)[1]}catch(n){return%20n.message}}function%20setgraph(n,r,t,a){r=parseInt(r.replace(%22dBm%22,%22%22).replace(%22dB%22)),x=(r-t)/(a-t)*100,xs=String(x)+String.fromCharCode(37),e=%22#%22+n+%22b%22,$(e).animate({width:xs}),$(e).html(n.replace(%22nr%22,%225G%20-%20%22)+%22%20:%20%22+window[n]),x%3C50?$(e).css(%22background-color%22,%22yellow%22).css(%22color%22,%22black%22):(85%3Cx?$(e).css(%22background-color%22,%22orange%22):$(e).css(%22background-color%22,%22green%22)).css(%22color%22,%22white%22)}function%20_5GType(n){for(data_out=%22%22,x=0;x%3C90;x++)tb=Math.pow(2,x),color=BigInt(%220x%22+n)&BigInt(tb)?(data_out+=%22B%22+String(x+1)+%22+%22,%22#686%22):%22transparent%22,$(%22#cb%22+String(x+1)).css(%22background-color%22,color);return%20data_out=data_out.replace(/\++$/,%22%22),data_out}function%20NRbandselection(n){if(mainband=mainband&&null,0==arguments.length){if(null==(e=(e=prompt(%22Please%20input%20NR%20bands%20number,%20separated%20by%20+%20char%20(example%201+3+20).If%20you%20want%20to%20use%20every%20supported%20bands,%20write%20'AUTO'.%22,%22AUTO%22))&&e.toLowerCase())||%22%22===e)return}else%20var%20e=arguments[0];var%20n=e.split(%22+%22),t=0;if(%22AUTO%22===e.toUpperCase())t=%227FFFFFFFFFFFFFFF%22;else{for(var%20r=0;r%3Cn.length;r++){if(-1!=n[r].toLowerCase().indexOf(%22m%22)&&(n[r]=n[r].replace(%22m%22,%22%22),mainband=n[r]),%22AUTO%22===n[r].toUpperCase()){t=%227FFFFFFFFFFFFFFF%22;break}t+=Math.pow(2,parseInt(n[r])-1)}t=t.toString(16)}if(mainband)return%20_2ndrun=n,void%20NRbandselection(String(mainband));suspend=1,$(%22#t%22).html(%22!%20PLEASE%20WAIT%20!%22).show(),$.ajax({type:%22GET%22,dataType:%22text%22,async:!0,url:%22/html/home.html%22,error:err,success:function(n){var%20n=n.split('name=%22csrf_token%22%20content=%22'),e=n[n.length-1].split('%22')[0],r=%2200%22;$(%22#force4g%22).is(%22:checked%22)&&(r=%2203%22),setTimeout(function(){$.ajax({type:%22POST%22,async:!0,url:%22/api/net/net-mode%22,headers:{__RequestVerificationToken:e},contentType:%22application/xml%22,data:%22%3Crequest%3E%3CNetworkMode%3E%22+r+%22%3C/NetworkMode%3E%3CNetworkBand%3E3FFFFFFF%3C/NetworkBand%3E%3CNRBand%3E%22+t+%22%3C/NRBand%3E%3C/request%3E%22,success:function(n){$(%22#band%22).html('%3Cspan%20style=%22color:green;%22%3EOK%3C/span%3E'),_2ndrun?window.setTimeout(function(){NRbandselection(_2ndrun.join(%22+%22)),_2ndrun=!1},2e3):(suspend=0,$(%22#t%22).hide(%22%22))},error:err})},2e3)}})}function%20ftb(){$(%22.color_background_blue%22).css(%22background-color%22,%22#456%22),$(%22.headcontainer%22).hide(),$(%22body%22).prepend('%3Cstyle%3E%20#rsrq,#nrrsrq,%20#rsrp,#nrrsrp,%20#rssi,%20#enbid,%20#sinr,#nrsinr,%20#cell_id,%20#band,%20#allowed,%20#a1,%20#a2%20{color:%20#b00;%20font-weight:%20strong;%20}%20.f%20{float:%20left;%20border:%201px%20solid%20#bbb;%20border-radius:%205px;%20padding:%2010px;%20line-height:%202em;%20margin:%205px;%20}%20.f%20ul%20{margin:%200;%20padding:%200;%20}%20.f%20ul%20li%20{display:%20inline;%20margin-right:%2010px;%20}%20#mode%20{margin-right:%200%20!important;%20}%20#enbid%20{font-weight:%20bold;%20text-decoration:%20underline;%20}%20.p%20{border-bottom:%201px%20solid%20#ccc;%20width:%20auto;%20height:%2020px;%20}%20.v%20{height:%2020px;%20border-right:%201px%20solid%20#ccc;%20}%20.sb%20{padding:%2010px;%20border-radius:%2010px;%20display:%20inline-block;%20margin:%2010px%200%2010px%2010px;%20}%20#t%20{color:%20white;%20background-color:%20#888;%20margin:%2010px;%20padding:%2025px;%20border-radius:%2010px;%20display:%20none;%20text-align:%20center;%20font-weight:%20bolder;%20}%20.v%20{padding-left:%2020px;%20}%20%3C/style%3E%20%3Cdiv%20class=%22p%20e5%22%3E%20%3Cdiv%20class=%22v%22%20id=%22nrrsrpb%22%3E%3C/div%3E%20%3C/div%3E%20%3Cdiv%20class=%22p%20e5%22%3E%20%3Cdiv%20class=%22v%22%20id=%22nrrsrqb%22%3E%3C/div%3E%20%3C/div%3E%20%3Cdiv%20class=%22p%22%3E%20%3Cdiv%20class=%22v%22%20id=%22rsrpb%22%3E%3C/div%3E%20%3C/div%3E%20%3Cdiv%20class=%22p%22%3E%20%3Cdiv%20class=%22v%22%20id=%22rsrqb%22%3E%3C/div%3E%20%3C/div%3E%20%3Cdiv%20style=%22display:block;overflow:%20auto;%22%3E%20%3Cdiv%20id=%22t%22%3E%3C/div%3E%20%3Cdiv%20class=%22f%22%3E%20%3Cul%3E%20%3Cli%3E%3Ca%20style=%22font-weight:bolder;background-color:%20#448;color:white;padding:%2010px;border-radius:10px;%22%20onclick=%22NRbandselection()%22%3ESET%3C/a%3E%3C/li%3E%20%3Cli%3E%3Clabel%3EForce%205G%3C/label%3E%3Cinput%20id=%22force4g%22%20type=%22checkbox%22%3E%3C/li%3E%20%3C/ul%3E%20%3C/div%3E%20%3Cdiv%20class=%22f%22%3E%20%3Cul%3E%20%3Cli%3ERSRP:%3Cspan%20id=%22rsrp%22%3E%3C/span%3E%3C/li%3E%20%3Cli%3ERSRQ:%3Cspan%20id=%22rsrq%22%3E%3C/span%3E%3C/li%3E%20%3Cli%3ERSSI:%3Cspan%20id=%22rssi%22%3E%3C/span%3E%3C/li%3E%20%3Cli%3ESINR:%3Cspan%20id=%22sinr%22%3E%3C/span%3E%3C/li%3E%20%3Cli%3EAnt:%3Cspan%20id=%22a1%22%3E%3C/span%3E/%3Cspan%20id=%22a2%22%3E%3C/span%3E%3C/li%3E%20%3C/ul%3E%20%3C/div%3E%20%3Cdiv%20class=%22f%20e5%22%3E%20%3Cul%3E%20%3Cli%3E5-RSRP:%3Cspan%20id=%22nrrsrp%22%3E%3C/span%3E%3C/li%3E%20%3Cli%3E5-RSRQ:%3Cspan%20id=%22nrrsrq%22%3E%3C/span%3E%3C/li%3E%20%3Cli%3E5-SINR:%3Cspan%20id=%22nrsinr%22%3E%3C/span%3E%3C/li%3E%20%3C/ul%3E%20%3C/div%3E%20%3Cdiv%20class=%22f%22%3E%20%3Cul%3E%20%3Cli%20id=%22mode%22%3EChe%20la%20banda%20sia%20con%20te!%20Miononno%20&#9829;%3C/li%3E%20%3C/ul%3E%20%3C/div%3E%20%3Cdiv%20class=%22f%22%3E%20%3Cul%3E%20%3Cli%3EENB%20ID:%3Ca%20id=%22NRitaly%22%20target=%22NRitaly%22%20href=%22#%22%3E%3Cspan%20id=%22enbid%22%3E#%3C/span%3E%3C/a%3E%3C/li%3E%20%3Cli%3ECELL%20ID:%3Cspan%20id=%22cell_id%22%3E#%3C/span%3E%3C/li%3E%20%3Cli%3EMAIN:%3Cspan%20id=%22band%22%3E%3C/span%3E(%3Cspan%20id=%22dlbandwidth%22%3E%3C/span%3E/%3Cspan%20id=%22ulbandwidth%22%3E%3C/span%3E)%3C/li%3E%20%3Cli%3EALLOWED:%3Cspan%20id=%22allowed%22%3E%3C/span%3E%3C/li%3E%20%3C/ul%3E%20%3C/div%3E')}mainband=null,_2ndrun=null,suspend=0,status=%22%22,netmode=%22%22,signal=%22%22,version=%224.0%22,console.log(%22Code%20by%20Miononno%20-%20v%22+version),console.log(%22type:%20netmode%20,%20signal%20,%20status%22),window.setInterval(currentBand,3300-3800);